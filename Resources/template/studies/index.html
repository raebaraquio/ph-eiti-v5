<header class="wd-100">   
    <div class="mxw-80 ta-left" id="header-wrapper">
        <p>RESOURCES</p>
        <h1 class="md-display-2">Studies</h1>  
    </div>
    <md-progress-linear data-ng-show="getpromise" class="md-secondary" md-mode="indeterminate"></md-progress-linear>
</header>

<div class="w-100" id="breadcrumb-wrapper">
    <div class="mxw-80">
        <md-button data-ng-href="./#/" class="md-fab md-mini md-primary" aria-label="Go to Resources" title="Go to Resources">
            <md-icon md-svg-src="../images/icons/svg/ic_navigate_before_white_24px.svg"></md-icon>
        </md-button>
    </div>
</div>

<div class="wd-100">
	<div class="mxw-80">
		<div class="md-inline-form">
	        <md-content layout-padding>
	            <div layout-gt-sm="row">
	                <md-input-container flex-gt-sm>
	                    <label>Select Year</label>
	                    <md-select data-ng-model="filterYear">
	                    	<md-option data-ng-repeat="year in years" value="{{year}}">{{year}}</md-option>
	                    </md-select>
	                </md-input-container>
	                <md-input-container flex-gt-sm>
	                	<label>Keyword filter</label><input data-ng-model="filterKeyword"/>
	                </md-input-container>        
	                <md-input-container flex-gt-sm data-ng-show="studies.length">
	                    <label><strong>{{ (studies | filter:{title:filterKeyword,year:filterYear}).length }} result<span data-ng-show="(studies | filter:{contentType:filterContentType,file:filterKeyword}).length > 1">s</span> found</strong></label>
	                </md-input-container>
	                <md-input-container flex-gt-sm></md-input-container>
	                <md-input-container flex-gt-sm></md-input-container>
	                <md-input-container flex-gt-sm></md-input-container>
	            </div>            
	        </md-content>
	    </div>
    </div>
</div>

<div class="w-100">
	<div class="mxw-80">
		<div flex="100" layout-fill layout="row" layout-wrap>   
	        <md-card flex="45" layout="row" data-ng-repeat="(kfile,study) in studies | filter:{title:filterKeyword,year:filterYear} " class="card-container">
	            <md-card-title flex="70">
	                <md-card-title-text class="ta-left">
	                    <span class="md-headline" style="font-size:1.25em;line-height:1em;" title="{{study.title}}">{{study.title}}</span>
	                    <!-- <span class="md-subhead" data-ng-if="study.year" title="{{study.month}} {{study.year}}">{{study.month}} {{study.year}}</span> -->
	                </md-card-title-text>
	            </md-card-title>
	            <md-card-actions flex="30" layout="row" layout-align="end center">
	                <md-button class="md-accent" data-ng-show="study.file_url!==''" data-ng-click="goto_file(study.file_url,study)" alt="Open/Download {{study.title}}"  title="Open/Download {{study.title}}"><strong>Open</strong></md-button>
	                <md-button class="md-secondary" data-ng-show="study.file_url===''" title="{{study.title}} is unavailable"><strong>Unavailable</strong></md-button>
	            </md-card-actions>
	        </md-card>
	    </div>  
	</div>
</div>

