<md-content layout-padding>
    <h1>Manage Country Report</h1>
    <div layout="column">
        
        <md-content layout="row" layout-align="start center">
            <md-input-container flex="45" style="width:300px">
                <label>Select Report</label>
                <md-select data-ng-model="selectedReport" ng-change="setSelectedReport()">
                    <md-option data-ng-repeat="report in countryreports" value="{{report.title}}">{{report.title}}</md-option>
                </md-select>
            </md-input-container>
            <md-button ng-disabled="!selectedReport" class="md-primary fnt--white md-raised" ng-click="addReportFile($event)">Add Files</md-button>  
            <md-button class="md-accent fnt--white md-raised" ng-click="addReport($event)">Add New Report</md-button>         
            <!-- <md-content flex="35" layout="row" layout-align="end center">
                <md-input-container flex="75" ng-show="years.length">
                    <label>Select Year</label>
                    <md-select data-ng-model="filterYear">
                        <md-option data-ng-repeat="year in years" value="{{year}}">{{year}}</md-option>
                    </md-select>
                </md-input-container>
                <md-input-container flex="75" ng-show="lawTypes.length">
                    <label>Select Type</label>
                    <md-select data-ng-model="filterContentType">
                        <md-option data-ng-repeat="lawtype in lawTypes" value="{{lawtype}}">{{lawtype}}</md-option>
                    </md-select>
                </md-input-container>
                <md-input-container flex="75" ng-show="allfolders.length">
                    <label>Select Folder</label>
                    <md-select data-ng-model="filterContentType">
                        <md-option data-ng-repeat="folder in allfolders" value="{{folder.folder_id}}">{{folder.folder_name}}</md-option>
                    </md-select>
                </md-input-container>
            </md-content>       -->      
        </md-content>
    </div>
    <md-content flex="100" layout-fill layout-padding layout="row" layout-align="center center">
        <md-progress-circular data-ng-show="getpromise" class="md-secondary" md-mode="indeterminate"></md-progress-circular>
    </md-content>
    <md-content ng-if="!getpromise">
        <md-content flex="100" layout-fill layout="row" layout-wrap>
            <md-card flex="45" layout="row" data-ng-repeat="(k,cr) in current_report.content" class="card-container">
                <div flex="25" layout="left left" class="infographic-card-icon" style="background:url('../{{cr.card_icon_url}}')">
                </div>              
                <div flex="75" layout="column">
                    <md-card-title>
                        <md-card-title-text class="ta-left">
                            <span class="md-headline" style="font-size:1.25em;line-height:1em;">{{cr.title}}</span>
                        </md-card-title-text>
                    </md-card-title>
                    <md-card-actions layout="row" layout-align="end center">
                        <md-button data-ng-if="cr.content_type=='page'" class="md-accent"  data-ng-click="openPage(current_report.title+'/'+cr.title)" alt="Go to {{cr.title}}"  title="Go to {{cr.title}}"><strong>Go to page</strong></md-button>
                        <!-- <md-button data-ng-if="cr.media && cr.file" class="md-accent"  data-ng-click="goto_activity(current_report.id+'/'+cr.href)" alt="Go to {{cr.title}}"  title="Go to {{cr.title}}"><strong>Go to page</strong></md-button>
                        <md-button data-ng-if="cr.media && !cr.file" class="md-secondary" alt="Material not yet available"  title="Material not yet available"><strong>Material unavailable **</strong></md-button> -->
                        <md-button data-ng-if="cr.content_type=='document' && cr.file_url==''" class="md-secondary" alt="Material not yet available"  title="Material not yet available"><strong>Material unavailable</strong></md-button>
                        <md-button data-ng-if="cr.content_type=='document' && cr.file_url" class="md-accent" data-ng-click="open_file(cr.file_url,cr)" alt="Open/Download {{cr.title}}"  title="Open/Download {{cr.title}}"><strong>Open</strong></md-button>
                        <md-button data-ng-if="cr.content_type=='mso-file'" class="md-accent" data-ng-click="open_file(cr.file_url,cr)" alt="Open/Download {{cr.title}}"  title="Open/Download {{cr.title}}"><strong>Download</strong></md-button>
                    </md-card-actions>
                </div>                
            </md-card>
        </md-content>    
        
    </md-content>

</md-content>
